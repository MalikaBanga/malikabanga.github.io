!function(t){"use strict";var e=function(t){return new e.init(t)},i={height:400,width:600,left:100,bottom:50,type:"simple",showBarValue:!0,showRuler:!0,xAxis:{text:"X-Axis",textFontSize:12,plotValue:Array(),plotValueFontSize:12},yAxis:{text:"Y-Axis",textFontSize:12,plotValueFontSize:12,plotValueDifference:100,plotValue:Array(),suffix:"",minBarVal:Number(),maxBarVal:Number()}},a={height:280,width:800,radius:70,plotValue:[{title:"Default",number:100,bgColor:"green"}],showLegend:!0,legendTitle:"",legendWidth:100};e.init=function(e){if(""===e||void 0===e)throw"Please add a valid selector";t.selector=e},e.prototype={find:function(e){var i=t.selector,a=document.querySelector(i).querySelectorAll(e);return 1===a.length?a[0]:a},defaultChartValues:function(t,e){if(void 0===t)t=e;else{if("object"!=typeof t)throw"Please enter valid data";for(var i in e)if("undefined"!=typeof t[i]){if(typeof t[i]!=typeof e[i])throw"The type of data entered is incorrect";if(t[i]=t[i],"object"==typeof e[i])for(var a in e[i])t[i][a]="undefined"!=typeof t[i][a]?t[i][a]:e[i][a]}else t[i]=e[i]}},barChartSkeleton:function(e,i){var a=document.querySelector(t.selector),l=e.height-e.bottom;i=i,a.classList.contains("line-chart")||(a.className+=" line-chart mb-chart"),a.innerHTML='<svg height="'+e.height+'" width="'+e.width+'">'+i+'<g class="plot-lines"><line x1="'+e.left+'" y1="'+l+'" x2="'+e.width+'" y2="'+l+'" class="x-axis-line" /><line x1="'+e.left+'" y1="0" x2="'+e.left+'" y2="'+l+'" class="y-axis-line"></g></svg>'},barXaxisStructure:function(t){for(var e=t.width-t.left,i=t.height-t.bottom,a=e/t.xAxis.plotValue.length,l=0,r=a/2,o='<g class="x-plot-values">',s=0;s<t.xAxis.plotValue.length;s++)l=a*(s+1)+t.left,o+='<g class="each-x-plot" width="'+a+'"><text x="'+(l-r)+' " y="'+(i+t.xAxis.plotValueFontSize+5)+'" font-size="'+t.xAxis.plotValueFontSize+'">'+t.xAxis.plotValue[s]+"</text>",o+=t.showRuler?'<line x1="'+l+'" y1="0" x2="'+l+'" y2="'+i+'" class="bg-ruler" />':'<line x1="'+l+'" y1="'+i+'" x2="'+l+'" y2="'+(i+15)+'" class="line-sep"/>',o+="</g>";return o+="</g>"},barYaxisDistance:function(t){var e=t.yAxis.plotValueDifference,i=0,a=(Math.min.apply(null,t.yAxis.plotValue),0),l=[],r=!1;if(t.yAxis.maxBarVal>=t.yAxis.minBarVal&&t.yAxis.maxBarVal+t.yAxis.minBarVal>e){if(Math.min.apply(null,t.yAxis.plotValue)<t.yAxis.minBarVal||Math.max.apply(null,t.yAxis.plotValue)>t.yAxis.maxBarVal)throw"Minimum or Maximum value of Y-Axis is incorrect";r=!0,a=Math.floor(t.yAxis.minBarVal/e)*e,i=Math.ceil(t.yAxis.maxBarVal/e)*e}else a=Math.floor(Math.min.apply(null,t.yAxis.plotValue)/e)*e,i=Math.ceil(Math.max.apply(null,t.yAxis.plotValue)/e)*e;for(;i>=a;)l.push(a),a+=t.yAxis.plotValueDifference;return l},barYaxisStructure:function(t){for(var e=this.barYaxisDistance(t).length,i=t.height-t.bottom,a=i/(e-1),l=0,r=0,o=e,s='<g class="y-plot-values">',n=0;e>n;n++)l=a*(o-1),r=l+t.yAxis.plotValueFontSize/2,s+='<g class="each-y-plot"><text x="'+(t.left-5)+'" y="'+(r-2)+'"  font-size="'+t.yAxis.plotValueFontSize+'" >'+this.barYaxisDistance(t)[n]+"</text>",s+=t.showRuler?'<line x1="'+t.left+'" y1="'+l+'" x2="'+t.width+'" y2="'+l+'"  class="bg-ruler"/>':'<line x1="'+(t.left-15)+'" y1="'+l+'" x2="'+t.left+'" y2="'+l+'"  class="line-sep"/>',s+="</g>",o--;return s+="</g>"},barCommonStructure:function(t,e){if(e=e,void 0===t.xAxis.plotValue||void 0===t.yAxis.plotValue)throw"Please enter X and Y axes' values";var a=this;a.defaultChartValues(t,i);var l=(a.find(".plot-lines"),t.width-t.left),r=t.height-t.bottom,o=(l/t.xAxis.plotValue.length,'<text text-anchor="middle" class="x-axis-text both-axes-text" x="'+(l/2+t.left)+'" y="'+t.height+'" font-size="'+t.xAxis.textFontSize+'">'+t.xAxis.text+"</text>"),s='<text text-anchor="middle" class="y-axis-text both-axes-text" y="'+t.xAxis.textFontSize+'" x="'+-r/2+'" transform="rotate(-90)" font-size="'+t.yAxis.textFontSize+'">'+t.yAxis.text+"</text>";if(t.yAxis.plotValue.length!==t.xAxis.plotValue.length)throw"Length of X-Axis' data is not equal to Y-Axis' data";var n=s+a.barYaxisStructure(t)+a.barXaxisStructure(t)+o+e;a.barChartSkeleton(t,n)},barSimpleChart:function(t){var e=this;e.defaultChartValues(t,i);for(var a=0,l=0,r=0,o=0,s=0,n=t.height-t.bottom,h=(t.width-t.left)/t.xAxis.plotValue.length,x=h/2,u=t.yAxis.plotValue,c=e.barYaxisDistance(t),d=(t.yAxis.plotValueDifferencef,'<g class="bars-list">'),f=0;f<t.xAxis.plotValue.length;f++){var p=(c[c.length-1]-c[0])/n;a=(u[f]-c[0])/p+1,l=n-a,0>a&&(l=n,a=-a),s=h*(f+1)+t.left,o=.2*h,r=s-x,d+='<rect x="'+r+'"  y="'+l+'"  width="'+o+'" height="'+a+'" transform="translate('+-o/2+')" />',t.showBarValue&&(d+='<text transform="rotate(-90) translate(-'+(l+5)+" "+(r+.3*o)+')" font-size="'+Math.floor(o-2)+'">'+u[f]+t.yAxis.suffix+"</text>")}d+="</g>",e.barCommonStructure(t,d)},barChart:function(t){var e=this.__proto__;if(void 0!==t.type&&""!==t.type&&"simple"!==t.type)throw'Enter correct "type" value of bar chart';e.barSimpleChart(t)},pieChartSkeleton:function(e,i,a){i=i,a=a;var l=document.querySelector(t.selector);if(e.height<4*e.radius)throw"Height of the chart should be 4 times(or more) than the radius of the pie";if(e.width<4*e.radius)throw"Width of the chart should be 4 times(or more) than the radius of the pie";l.innerHTML='<svg height="'+e.height+'" width="'+e.width+'"><g class="plot-pie">'+i+"</g></svg>"+a},pieChart:function(e){this.defaultChartValues(e,a);var i=this.__proto__,l=document.querySelector(t.selector);l.className+=" pie-chart mb-chart",e.showLegend?l.style.width=e.width+e.legendWidth+50+"px":l.style.width=e.width+"px";for(var r=e.plotValue,o=r.length,s=0,n=0,h=0,x=0,u="",c=e.radius,d=e.width/2,f=e.height/2,p=Math.ceil(2*Math.PI*e.radius),y=0;o>y;y++)s+=r[y].number;for(var y=0;o>y;y++)n=Math.round(100*r[y].number/s),h=r[y].number/s*p,0!==y&&(x-=r[y-1].number/s*p),u+='<circle r="'+c+'"cx="'+d+'"cy="'+f+'"class="sector sector-'+y+'" stroke-width="'+(2*e.radius-1)+'"stroke-dasharray="'+h+", "+p+'"stroke-dashoffset="'+x+'"stroke="'+r[y].bgColor+'"></circle>';if(i.pieChartSkeleton(e,u),e.showLegend){var g="";g+='<div class="pie-legend legend" style="max-width:'+e.legendWidth+'px"><div class="middle-legend"><div class="inner-legend"><div class="legend-list">',""!==e.legendTitle&&(g+="<h4>"+e.legendTitle+"</h4>");for(var y=0;o>y;y++)n=Math.round(100*r[y].number/s),g+='<div class="each-legend"><span style="background-color:'+r[y].bgColor+'" class="legend-color"></span><span>'+r[y].title+" ("+n+"%)</span></div>";g+="</div></div></div></div>",i.pieChartSkeleton(e,u,g)}}},e.init.prototype=e.prototype,t.MbChart=t.m=e}(window);